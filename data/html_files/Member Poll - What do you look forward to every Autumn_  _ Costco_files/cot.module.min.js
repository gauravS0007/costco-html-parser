!function(e){function r(i){if(t[i])return t[i].exports;var o=t[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){var i,o;i=[],o=function(){var e={fireEvent:function(r){var t={timeout:3e3};$.cachedScript(r.scriptSrc,t).done(function(){var t=[];"true"===r.uat&&t.push({event:"setUat",uat:1}),r.account&&t.push({event:"setAccount",account:r.account}),r.retailerVisitorId&&t.push({event:"setRetailerVisitorId",id:r.retailerVisitorId}),r.email&&t.push({event:"setEmail",email:r.email});var i=void 0;if("viewHome"===r.event?i=e.createHomeArgs(r):"viewBasket"===r.event?i=e.createBasketArgs(r):"trackTransaction"===r.event?i=e.createOrderConfirmationArgs(r):"viewItem"===r.event?i=e.createPDPArgs(r):"viewSearchResult"===r.event?i=e.createSearchResultArgs(r):"viewCategory"===r.event?i=e.createCategoryArgs(r):"addToCart"===r.event?i=e.createAddToCartArgs(r):"viewPharmacy"===r.event&&(i=e.createCMPPArgs(r)),i){t.push(i),window.criteo_q=window.criteo_q||[];try{window.criteo_q.push(t),console.log("Criteo event has been fired succesfully")}catch(e){console.error(e.message)}}}).fail(function(){console.log("Unable to call Criteo Loader. Script path: "+r.scriptSrc)})},createHomeArgs:function(r){var t={event:r.event,page_id:r.pageId};return COSTCO.util.isBDStore()&&(t.store_id=r.storeId),"true"==r.call_rmp&&(t.call_rmp=r.call_rmp),COSTCO.util.isCAStore()&&(t.block=e.blockUserTracking()),t},createCMPPArgs:function(r){var t={event:r.event,page_id:r.pageId};return COSTCO.util.isBDStore()&&(t.store_id=r.storeId),"true"==r.call_rmp&&(t.call_rmp=r.call_rmp),COSTCO.util.isCAStore()&&(t.block=e.blockUserTracking()),t},createBasketArgs:function(r){var t={event:r.event,item:r.item,page_id:r.pageId};return r.zipCode&&(t.zipCode=r.zipCode),"true"==r.call_rmp&&(t.call_rmp=r.call_rmp),COSTCO.util.isCAStore()&&(t.block=e.blockUserTracking()),t},createOrderConfirmationArgs:function(r){var t={event:r.event,id:r.orderId,item:r.item,page_id:r.pageId};return"true"==r.call_rmp&&(t.call_rmp=r.call_rmp),COSTCO.util.isCAStore()&&(t.block=e.blockUserTracking()),t},createPDPArgs:function(r){var t=window.atob(r.price),i={event:r.event,item:r.item,price:t,availability:r.availability,page_id:r.pageId};return COSTCO.util.isBDStore()&&(i.store_id=r.storeId),"true"==r.call_rmp&&(i.call_rmp=r.call_rmp),COSTCO.util.isCAStore()&&(i.block=e.blockUserTracking()),i},createSearchResultArgs:function(r){var t={event:r.event,item:r.item,page_number:r.pageNumber,keywords:r.keywords,filters:r.filters,page_id:r.pageId};return COSTCO.util.isBDStore()&&(t.store_id=r.storeId),"true"==r.call_rmp&&(t.call_rmp=r.call_rmp),COSTCO.util.isCAStore()&&(t.block=e.blockUserTracking()),t},createCategoryArgs:function(r){var t={event:r.event,category:r.category,page_id:r.pageId,item:r.item};return e.isBrowse(r.pageId)&&(t.page_number=r.pageNumber,t.filters=r.filters),COSTCO.util.isBDStore()&&(t.store_id=r.storeId),"true"==r.call_rmp&&(t.call_rmp=r.call_rmp),COSTCO.util.isCAStore()&&(t.block=e.blockUserTracking()),t},isBrowse:function(e){return!(!e||!e.startsWith("viewCategory"))},createAddToCartArgs:function(r){var t=[];return t.push({event:r.event,item:[{id:r.itemId,price:r.price,quantity:r.quantity}]}),COSTCO.util.isCAStore()&&t.push({event:"setBlock",block:e.blockUserTracking()}),r.zipCode&&t.push({event:"setZipCode",zipcode:r.zipCode}),r.storeId&&t.push({event:"setStore",storeid:r.storeId}),"true"==r.call_rmp&&t.push({event:"setCallRmp",call_rmp:r.call_rmp}),t},getRetailerVisitorId:function(){var r="CriteoSessionUserId",t="";if("1"===e.blockUserTracking())return"0";var i=localStorage.getItem(r);null==i&&(i=e.getCSValueFromCookieAndPersistInStorage());var o=i.split(",");return null!=i&&(t=o[0]),t},getEmail:function(){var r="",t="CriteoSessionUserId",i=localStorage.getItem(t);null==i&&(i=e.getCSValueFromCookieAndPersistInStorage());var o=i.split(",");return o.length>1&&(r=o[1]),r},generateCriteoCookie:function(){var e=COSTCO.util.createUUID(),r="CriteoSessionUserId";return $.cookie(r,e,{expires:30,path:"/"}),e},getCSValueFromCookieAndPersistInStorage:function(){var r="CriteoSessionUserId",t=$.cookie(r);return null==t&&(t=e.generateCriteoCookie()),localStorage&&localStorage.setItem(r,t),t},blockUserTracking:function e(){var e="0";return"undefined"==typeof costcoConsentManager?e="1":COSTCO.util.isCAStore()&&!costcoConsentManager.isConsented("C0004")&&(e="1"),e}};return"undefined"==typeof window.COSTCO&&(window.COSTCO=new Object),window.COSTCO.COT=e,e}.apply(r,i),!(void 0!==o&&(e.exports=o))}]);
//# sourceMappingURL=cot.module.min.js.map